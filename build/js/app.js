"use strict";function DNA(){this.genes=random(10),this.fitness=0,this.get=function(){return this.genes},this.calcFitness=function(n){this.fitness=n/1},this.crossover=function(n){var t=new DNA;return t.genes=(n.genes+this.genes)/2,console.log(t),t},this.mutate=function(n){random(1)<n&&(this.genes=random(10))}}function newChar(){var n=floor(random(63,122));return 63===n&&(n=32),64===n&&(n=46),String.fromCharCode(n)}
"use strict";function Population(t,i,s){this.population,this.matingPool,this.generations=0,this.finished=!1,this.target=t,this.mutationRate=i,this.perfectScore=1,this.averageFitness=0,this.best="",this.population=[];for(var e=0;e<s;e++)this.population[e]=new DNA;this.calcFitness=function(){for(var t=0;t<this.population.length;t++)this.population[t].calcFitness(this.target)},this.calcFitness(),this.generate=function(){for(var t=0,i=0,s=0,e=0;e<this.population.length;e++)if(this.population[e].fitness>t&&(t=this.population[e].fitness,this.best=this.population[e].get()),i+=this.population[e].fitness,s+=1,this.perfectScore==t){this.finished=!0,this.perfectScore=e;break}var o=[];for(e=0;e<this.population.length;e++){var n=this.acceptReject(t),a=this.acceptReject(t),h=n.crossover(a);h.mutate(this.mutationRate),o[e]=h}this.population=o,this.averageFitness=i/s,this.generations++},this.acceptReject=function(t){for(var i=1e4;i;){var s=floor(random(this.population.length)),e=this.population[s],o=random(t)+.01;if(console.log(o),e.fitness>o)return e;i--}return null},this.isFinished=function(){return this.best==this.target}}
"use strict";function setup(){createCanvas(400,400),background(0),pixelDensity(1),loadPixels();for(var e=new Population(1,.01,10),a=0;a<width;a++)for(var i=0;i<height;i++){for(var r=map(a,0,width,-2.5,2.5),t=map(i,0,height,-2.5,2.5),s=r/e.generate(),p=t/e.generate(),l=0;l<100;){var n=2*r*t;if(r=r*r-t*t+s,t=n+p,16<abs(r+t))break;l++}var o=map(l,0,100,0,255);100===l&&(o=255);var h=4*(a+i*width);pixels[h+0]=o,pixels[h+1]=o,pixels[h+2]=o,pixels[h+3]=255}updatePixels()}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkROQS5qcyIsIlBvcHVsYXRpb24uanMiLCJza2V0Y2guanMiXSwibmFtZXMiOlsiRE5BIiwidGhpcyIsImdlbmVzIiwicmFuZG9tIiwiZml0bmVzcyIsImdldCIsImNhbGNGaXRuZXNzIiwidGFyZ2V0IiwiY3Jvc3NvdmVyIiwicGFydG5lciIsImNoaWxkIiwiY29uc29sZSIsImxvZyIsIm11dGF0ZSIsIm11dGF0aW9uUmF0ZSIsIm5ld0NoYXIiLCJjIiwiZmxvb3IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJQb3B1bGF0aW9uIiwicCIsIm0iLCJudW0iLCJwb3B1bGF0aW9uIiwibWF0aW5nUG9vbCIsImdlbmVyYXRpb25zIiwiZmluaXNoZWQiLCJwZXJmZWN0U2NvcmUiLCJhdmVyYWdlRml0bmVzcyIsImJlc3QiLCJpIiwibGVuZ3RoIiwiZ2VuZXJhdGUiLCJtYXhGaXRuZXNzIiwic3VtRml0bmVzcyIsImFtb3VudEZpdG5lc3MiLCJuZXdQb3B1bGF0aW9uIiwicGFydG5lckEiLCJhY2NlcHRSZWplY3QiLCJwYXJ0bmVyQiIsIm1heFZhbCIsInRpbWVvdXQiLCJpbmRleCIsInIiLCJpc0ZpbmlzaGVkIiwic2V0dXAiLCJjcmVhdGVDYW52YXMiLCJiYWNrZ3JvdW5kIiwicGl4ZWxEZW5zaXR5IiwibG9hZFBpeGVscyIsIngiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJhIiwibWFwIiwiYiIsImNhIiwiY2IiLCJuIiwiYmIiLCJhYnMiLCJicmlnaHQiLCJwaXgiLCJwaXhlbHMiLCJ1cGRhdGVQaXhlbHMiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsTUFDUEMsS0FBS0MsTUFBUUMsT0FBTyxJQUNwQkYsS0FBS0csUUFBVSxFQUVmSCxLQUFLSSxJQUFNLFdBQ1QsT0FBT0osS0FBS0MsT0FHZEQsS0FBS0ssWUFBYyxTQUFVQyxHQUUzQk4sS0FBS0csUUFBVUcsRUFESCxHQUlkTixLQUFLTyxVQUFZLFNBQVVDLEdBQ3pCLElBQUlDLEVBQVEsSUFBSVYs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M0JLLEVBQUlELElBQUlILEVBQUcsRUFBR0MsUUFBUyxJQUFLLEtBRzVCSSxFQUFLSCxFQUZFL0IsRUFBV1MsV0FHbEIwQixFQUFLRixFQUZFakMsRUFBV1MsV0FHbEIyQixFQUFJLEVBRURBLEVBQUksS0FBSyxDQUNkLElBQ0lDLEVBQUssRUFBSU4sRUFBSUUsRUFJakIsR0FIQUYsRUFGU0EsRUFBSUEsRUFBSUUsRUFBSUEsRUFFWkMsRUFDVEQsRUFBSUksRUFBS0YsRUFFUSxHQUFiRyxJQUFJUCxFQUFJRSxHQUNWLE1BR0ZHLElBR0YsSUFBSUcsRUFBU1AsSUFBSUksRUFBRyxFQUFHLElBQUssRUFBRyxLQUVyQixNQUFOQSxJQUNGRyxFQUFTLEtBR1gsSUFBSUMsRUFBd0IsR0FBakJiLEVBQUlFLEVBQUlELE9BQ25CYSxPQUFPRCxFQUFNLEdBQUtELEVBQ2xCRSxPQUFPRCxFQUFNLEdBQUtELEVBQ2xCRSxPQUFPRCxFQUFNLEdBQUtELEVBQ2xCRSxPQUFPRCxFQUFNLEdBQUssSUFJdEJFIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBETkEoKSB7XG4gIHRoaXMuZ2VuZXMgPSByYW5kb20oMTApO1xuICB0aGlzLmZpdG5lc3MgPSAwO1xuXG4gIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdlbmVzO1xuICB9O1xuXG4gIHRoaXMuY2FsY0ZpdG5lc3MgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdmFyIHNjb3JlID0gMTtcbiAgICB0aGlzLmZpdG5lc3MgPSB0YXJnZXQgLyBzY29yZTtcbiAgfTtcblxuICB0aGlzLmNyb3Nzb3ZlciA9IGZ1bmN0aW9uIChwYXJ0bmVyKSB7XG4gICAgdmFyIGNoaWxkID0gbmV3IEROQSgpO1xuICAgIGNoaWxkLmdlbmVzID0gKHBhcnRuZXIuZ2VuZXMgKyB0aGlzLmdlbmVzKSAvIDI7XG4gICAgY29uc29sZS5sb2coY2hpbGQpO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfTtcblxuICB0aGlzLm11dGF0ZSA9IGZ1bmN0aW9uIChtdXRhdGlvblJhdGUpIHtcbiAgICBpZiAocmFuZG9tKDEpIDwgbXV0YXRpb25SYXRlKSB7XG4gICAgICB0aGlzLmdlbmVzID0gcmFuZG9tKDEwKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5ld0NoYXIoKSB7XG4gIHZhciBjID0gZmxvb3IocmFuZG9tKDYzLCAxMjIpKTtcblxuICBpZiAoYyA9PT0gNjMpIHtcbiAgICBjID0gMzI7XG4gIH1cblxuICBpZiAoYyA9PT0gNjQpIHtcbiAgICBjID0gNDY7XG4gIH1cblxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gUG9wdWxhdGlvbihwLCBtLCBudW0pIHtcbiAgdGhpcy5wb3B1bGF0aW9uO1xuICB0aGlzLm1hdGluZ1Bvb2w7XG4gIHRoaXMuZ2VuZXJhdGlvbnMgPSAwO1xuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gIHRoaXMudGFyZ2V0ID0gcDtcbiAgdGhpcy5tdXRhdGlvblJhdGUgPSBtO1xuICB0aGlzLnBlcmZlY3RTY29yZSA9IDE7XG4gIHRoaXMuYXZlcmFnZUZpdG5lc3MgPSAwO1xuICB0aGlzLmJlc3QgPSBcIlwiO1xuICB0aGlzLnBvcHVsYXRpb24gPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgdGhpcy5wb3B1bGF0aW9uW2ldID0gbmV3IEROQSgpO1xuICB9XG5cbiAgdGhpcy5jYWxjRml0bmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9wdWxhdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wb3B1bGF0aW9uW2ldLmNhbGNGaXRuZXNzKHRoaXMudGFyZ2V0KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jYWxjRml0bmVzcygpO1xuXG4gIHRoaXMuZ2VuZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1heEZpdG5lc3MgPSAwO1xuICAgIHZhciBzdW1GaXRuZXNzID0gMDtcbiAgICB2YXIgYW1vdW50Rml0bmVzcyA9IDA7IC8vcGljayB0aGUgbW9zdCBmaXQgRE5BXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9wdWxhdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucG9wdWxhdGlvbltpXS5maXRuZXNzID4gbWF4Rml0bmVzcykge1xuICAgICAgICBtYXhGaXRuZXNzID0gdGhpcy5wb3B1bGF0aW9uW2ldLmZpdG5lc3M7XG4gICAgICAgIHRoaXMuYmVzdCA9IHRoaXMucG9wdWxhdGlvbltpXS5nZXQoKTtcbiAgICAgIH1cblxuICAgICAgc3VtRml0bmVzcyArPSB0aGlzLnBvcHVsYXRpb25baV0uZml0bmVzcztcbiAgICAgIGFtb3VudEZpdG5lc3MgKz0gMTtcblxuICAgICAgaWYgKHRoaXMucGVyZmVjdFNjb3JlID09IG1heEZpdG5lc3MpIHtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucGVyZmVjdFNjb3JlID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld1BvcHVsYXRpb24gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb3B1bGF0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFydG5lckEgPSB0aGlzLmFjY2VwdFJlamVjdChtYXhGaXRuZXNzKTtcbiAgICAgIHZhciBwYXJ0bmVyQiA9IHRoaXMuYWNjZXB0UmVqZWN0KG1heEZpdG5lc3MpO1xuICAgICAgdmFyIGNoaWxkID0gcGFydG5lckEuY3Jvc3NvdmVyKHBhcnRuZXJCKTtcbiAgICAgIGNoaWxkLm11dGF0ZSh0aGlzLm11dGF0aW9uUmF0ZSk7XG4gICAgICBuZXdQb3B1bGF0aW9uW2ldID0gY2hpbGQ7XG4gICAgfVxuXG4gICAgdGhpcy5wb3B1bGF0aW9uID0gbmV3UG9wdWxhdGlvbjtcbiAgICB0aGlzLmF2ZXJhZ2VGaXRuZXNzID0gc3VtRml0bmVzcyAvIGFtb3VudEZpdG5lc3M7XG4gICAgdGhpcy5nZW5lcmF0aW9ucysrO1xuICB9O1xuXG4gIHRoaXMuYWNjZXB0UmVqZWN0ID0gZnVuY3Rpb24gKG1heFZhbCkge1xuICAgIHZhciB0aW1lb3V0ID0gMTAwMDA7XG5cbiAgICB3aGlsZSAodGltZW91dCkge1xuICAgICAgdmFyIGluZGV4ID0gZmxvb3IocmFuZG9tKHRoaXMucG9wdWxhdGlvbi5sZW5ndGgpKTtcbiAgICAgIHZhciBwYXJ0bmVyID0gdGhpcy5wb3B1bGF0aW9uW2luZGV4XTtcbiAgICAgIHZhciByID0gcmFuZG9tKG1heFZhbCkgKyAwLjAxO1xuICAgICAgY29uc29sZS5sb2cocik7XG5cbiAgICAgIGlmIChwYXJ0bmVyLmZpdG5lc3MgPiByKSB7XG4gICAgICAgIHJldHVybiBwYXJ0bmVyO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0LS07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdGhpcy5pc0ZpbmlzaGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJlc3QgPT0gdGhpcy50YXJnZXQ7XG4gIH07XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuICBjcmVhdGVDYW52YXMoNDAwLCA0MDApO1xuICBiYWNrZ3JvdW5kKDApO1xuICBwaXhlbERlbnNpdHkoMSk7XG4gIGxvYWRQaXhlbHMoKTtcbiAgdmFyIHRhcmdldCA9IDE7XG4gIHZhciBwb3BtYXggPSAxMDtcbiAgdmFyIG11dGF0aW9uUmF0ZSA9IDAuMDE7XG4gIHZhciBwb3B1bGF0aW9uID0gbmV3IFBvcHVsYXRpb24odGFyZ2V0LCBtdXRhdGlvblJhdGUsIHBvcG1heCk7XG5cbiAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgdmFyIGEgPSBtYXAoeCwgMCwgd2lkdGgsIC0yLjUsIDIuNSk7XG4gICAgICB2YXIgYiA9IG1hcCh5LCAwLCBoZWlnaHQsIC0yLjUsIDIuNSk7XG4gICAgICB2YXIgcG9wQSA9IHBvcHVsYXRpb24uZ2VuZXJhdGUoKTtcbiAgICAgIHZhciBwb3BCID0gcG9wdWxhdGlvbi5nZW5lcmF0ZSgpO1xuICAgICAgdmFyIGNhID0gYSAvIHBvcEE7XG4gICAgICB2YXIgY2IgPSBiIC8gcG9wQjtcbiAgICAgIHZhciBuID0gMDtcblxuICAgICAgd2hpbGUgKG4gPCAxMDApIHtcbiAgICAgICAgdmFyIGFhID0gYSAqIGEgLSBiICogYjtcbiAgICAgICAgdmFyIGJiID0gMiAqIGEgKiBiO1xuICAgICAgICBhID0gYWEgKyBjYTtcbiAgICAgICAgYiA9IGJiICsgY2I7XG5cbiAgICAgICAgaWYgKGFicyhhICsgYikgPiAxNikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbisrO1xuICAgICAgfVxuXG4gICAgICB2YXIgYnJpZ2h0ID0gbWFwKG4sIDAsIDEwMCwgMCwgMjU1KTtcblxuICAgICAgaWYgKG4gPT09IDEwMCkge1xuICAgICAgICBicmlnaHQgPSAyNTU7XG4gICAgICB9XG5cbiAgICAgIHZhciBwaXggPSAoeCArIHkgKiB3aWR0aCkgKiA0O1xuICAgICAgcGl4ZWxzW3BpeCArIDBdID0gYnJpZ2h0O1xuICAgICAgcGl4ZWxzW3BpeCArIDFdID0gYnJpZ2h0O1xuICAgICAgcGl4ZWxzW3BpeCArIDJdID0gYnJpZ2h0O1xuICAgICAgcGl4ZWxzW3BpeCArIDNdID0gMjU1O1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVBpeGVscygpO1xufSJdfQ==
